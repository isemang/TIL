# Chapter 10. 람다를 이용한 도메인 전용 언어
## ※ 주요 내용
### 도메인 전용 언어(domain-specific languages, DSL) 소개 및 직접 구현
- 도메인 전용 언어(DSL)란?: DSL의 장, 단점과 종류
- 자바 8에서 추가된 DSL 소개
- 자바로 DSL을 만드는 패턴과 기법 소개
- 자바의 DSL 라이브러리: jOOQ, 큐컴버, 스프링 통합

## 들어가기 전에
- DSL이란?
  - 특정 도메인을 대상으로 만들어진 특수 프로그래밍 언어
- DSL 예시
  - Maven: 빌드 과정을 표현하는 DSL
  - HTML: 웹페이지의 구조를 정의하도록 특화된 DSL
  - SQL: 데이터베이스를 조작하는 DSL
### ✔️ 예시: 메뉴에서 400칼로리 이하의 모든 요리를 찾는 방법 세 가지
**① 저수준의 코드를 작성**
```java
while (block != null) {
    read(block, buffer)
    for (every record in buffer) {
        if (record.calorie < 400) {
            System.out.println(record.name);
        }
    }
}
```
[위 코드가 저수준인 이유]
- 애플리케이션 수준이 아니라, 시스템 수준의 개념을 다루고 있음

**② 외부적 DSL 사용: SQL의 메뉴 테이블에서 데이터를 찾아 표현**
- 자바가 아닌 SQL을 이용해 데이터베이스를 조작
- 이런 종류의 DSL을 **외부적 DSL**이라고 하며, SQL은 외부적 DSL이다

**③ 내부적 DSL 사용: 자바의 스트림 API 이용**
```java
menu.stream()
    .filter(d -> d.getCalories() < 400)
    .map(Dish::getName)
    .forEach(System.out::println);
```
- 플루언트 스타일: 스트림 API의 특성인 메서드 체인을 보통 자바 루프의 복잡함 제어와 비교해 '플루언트 스타일'이라고 부른다
- 내부적 DSL에서는 애플리케이션 수준의 기본값이 자바 메서드가 사용할 수 있도록 데이터베이스를 대표하는 한 개 이상의 클래스 형식으로 노출된다(????) -> Dish 클래스가 노출됐다는 뜻?

**④ 결론**
- 내부적 DSL: 유창하게 코드를 구현할 수 있도록 적절하게 클래스와 메서드를 노출하는 과정이 필요함
- 외부적 DSL: DSL문법 뿐만 아니라, DSL을 평가하는 파서도 구현해야 함
## 10-1. 도메인 전용 언어

### 1. DSL의 장점과 단점
### 2. JVM에서 이용할 수 있는 다른 DSL 해결책

## 10-2. 최신 자바 API의 작은 DSL
### 1. 스트림 API는 컬렉션을 조작하는 DSL
### 2. 데이터를 수집하는 DSL인 Collectors

## 10-3. 자바로 DSL을 만드는 패턴과 기법
### 1. 메서드 패턴
### 2. 중첩된 함수 이용
### 3. 람다 표현식을 이용한 함수 시퀀싱
### 4. 조합하기
### 5. DSL에 메서드 참조 사용하기

## 10-4. 실생활의 자바 8 DSL
### 1. jOOQ
### 2. 큐컴버
### 3. 스프링 통합
